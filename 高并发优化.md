## 高并发优化



### 接口幂等



### 队列术



#### 消息队列



#### 请求队列





### 缓存

#### CDN缓存



#### Http缓存



#### 堆内缓存



#### 堆外缓存



#### Redis 缓存



#### 强制获取最新数据

通过路由Key来判断是否需要强制获取最新的数据



### 失败重试

Spring Retry、分布式定时任务



### 库存预减

Redis 库存预减



### 库存分段

分为10个段 通过UserId 与 具体的库存进行取模 然后做预减操作



### 分段锁





### 请求合并





### 隔离



#### 线程池隔离



#### 读写隔离



#### 热点隔离



#### 资源隔离



#### 动静隔离



### 异步调用

请求合并

请求缓存

Servlet 3 异步

异步Future

异步 CompletableFuture





### 热点数据



ES 热点数据



Mysql 热点数据：分库分表，比较按照城市分表，性能查询：关联查询，500W，（数据倾斜、数据热点）



ES 单个索引  ：3000万、亿级别、索引别名



### 复制



Mysql  主从复制



Canal 同步复制



Canal + Otter 异地机房复制





异地多活

Cannal + Otter



## 单元化

全局路由网关

API-Router

切流操作



跨单元数据同步组件



### 缓存

[hotkey](https://gitee.com/jd-platform-opensource/hotkey)